
  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.0)

2025-11-21T23:44:39.841+03:00  INFO 791246 --- [smartmenu-backend] [           main] com.smartmenu.SmartMenuApplication       : Starting SmartMenuApplication v1.0.0 using Java 21.0.8 with PID 791246 (/var/www/html/smart-menu-saas/backend/target/smartmenu-backend-1.0.0.jar started by lwena in /var/www/html/smart-menu-saas/backend)
2025-11-21T23:44:39.843+03:00 DEBUG 791246 --- [smartmenu-backend] [           main] com.smartmenu.SmartMenuApplication       : Running with Spring Boot v3.2.0, Spring v6.1.1
2025-11-21T23:44:39.844+03:00  INFO 791246 --- [smartmenu-backend] [           main] com.smartmenu.SmartMenuApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-21T23:44:41.896+03:00  INFO 791246 --- [smartmenu-backend] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-11-21T23:44:41.988+03:00  INFO 791246 --- [smartmenu-backend] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 85 ms. Found 6 MongoDB repository interfaces.
2025-11-21T23:44:42.793+03:00  INFO 791246 --- [smartmenu-backend] [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-21T23:44:42.806+03:00  INFO 791246 --- [smartmenu-backend] [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-21T23:44:42.807+03:00  INFO 791246 --- [smartmenu-backend] [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-11-21T23:44:42.873+03:00  INFO 791246 --- [smartmenu-backend] [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-21T23:44:42.874+03:00  INFO 791246 --- [smartmenu-backend] [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2900 ms
2025-11-21T23:44:43.175+03:00  INFO 791246 --- [smartmenu-backend] [           main] org.mongodb.driver.client                : MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "4.11.1"}, "os": {"type": "Linux", "name": "Linux", "architecture": "amd64", "version": "6.14.0-35-generic"}, "platform": "Java/Ubuntu/21.0.8+9-Ubuntu-0ubuntu124.04.1"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@4c302f38, com.mongodb.Jep395RecordCodecProvider@75aea2ba, com.mongodb.KotlinCodecProvider@2a47597]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-11-21T23:44:43.201+03:00  INFO 791246 --- [smartmenu-backend] [localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=17, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=44651679}
2025-11-21T23:44:44.117+03:00 DEBUG 791246 --- [smartmenu-backend] [           main] c.s.security.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2025-11-21T23:44:45.692+03:00  INFO 791246 --- [smartmenu-backend] [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@10b67f54, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@30798137, org.springframework.security.web.context.SecurityContextHolderFilter@5c8b10b4, org.springframework.security.web.header.HeaderWriterFilter@2bfa17b0, org.springframework.web.filter.CorsFilter@455da438, org.springframework.security.web.authentication.logout.LogoutFilter@194911c1, com.smartmenu.security.JwtAuthenticationFilter@49c1e294, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4ccdacf5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5aa6da2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@60652518, org.springframework.security.web.session.SessionManagementFilter@4fa0ee7e, org.springframework.security.web.access.ExceptionTranslationFilter@6c6379c, org.springframework.security.web.access.intercept.AuthorizationFilter@1f42366]
2025-11-21T23:44:46.147+03:00  INFO 791246 --- [smartmenu-backend] [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-11-21T23:44:46.165+03:00  INFO 791246 --- [smartmenu-backend] [           main] com.smartmenu.SmartMenuApplication       : Started SmartMenuApplication in 7.231 seconds (process running for 8.056)

===========================================
‚úÖ SmartMenu Backend Started Successfully!
üì° API: http://localhost:8080
üìñ Swagger UI: http://localhost:8080/swagger-ui.html
üóÑÔ∏è  MongoDB: localhost:27017/smartmenu
===========================================

2025-11-21T23:47:09.504+03:00  INFO 791246 --- [smartmenu-backend] [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-21T23:47:09.504+03:00  INFO 791246 --- [smartmenu-backend] [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-11-21T23:47:09.506+03:00  INFO 791246 --- [smartmenu-backend] [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-11-21T23:47:09.515+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/public/table/673f19d8e1ca7f1ce3ee1a9d
2025-11-21T23:47:09.523+03:00  WARN 791246 --- [smartmenu-backend] [nio-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/public/table/673f19d8e1ca7f1ce3ee1a9d' (previous null). Performing CorsConfiguration lookup. This is logged once only at WARN level, and every time at TRACE.
2025-11-21T23:47:09.540+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-21T23:47:09.541+03:00  WARN 791246 --- [smartmenu-backend] [nio-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/public/table/673f19d8e1ca7f1ce3ee1a9d' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-11-21T23:47:09.544+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/public/table/673f19d8e1ca7f1ce3ee1a9d
2025-11-21T23:47:09.606+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-1] o.s.data.mongodb.core.MongoTemplate      : findOne using query: { "id" : "673f19d8e1ca7f1ce3ee1a9d"} fields: Document{{}} for class: class com.smartmenu.model.Table in collection: tables
2025-11-21T23:47:16.562+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/public/menu/673f19d8e1ca7f1ce3ee1a9d
2025-11-21T23:47:16.565+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-21T23:47:16.567+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/public/menu/673f19d8e1ca7f1ce3ee1a9d
2025-11-21T23:47:16.569+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-2] o.s.data.mongodb.core.MongoTemplate      : findOne using query: { "id" : "673f19d8e1ca7f1ce3ee1a9d"} fields: Document{{}} for class: class com.smartmenu.model.Table in collection: tables
2025-11-21T23:47:16.724+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /favicon.ico
2025-11-21T23:47:16.734+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-21T23:47:16.766+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-3] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-11-21T23:47:16.772+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-11-21T23:47:16.784+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-11-21T23:47:16.848+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-21T23:47:18.621+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /flutter_service_worker.js?v=4046467648
2025-11-21T23:47:18.622+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-21T23:47:18.626+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-4] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-11-21T23:47:18.627+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error?v=4046467648
2025-11-21T23:47:18.629+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /error?v=4046467648
2025-11-21T23:47:18.631+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-21T23:47:38.341+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/public/table/673f19d8e1ca7f1ce3ee1a9d
2025-11-21T23:47:38.342+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-21T23:47:38.343+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/public/table/673f19d8e1ca7f1ce3ee1a9d
2025-11-21T23:47:38.345+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-5] o.s.data.mongodb.core.MongoTemplate      : findOne using query: { "id" : "673f19d8e1ca7f1ce3ee1a9d"} fields: Document{{}} for class: class com.smartmenu.model.Table in collection: tables
2025-11-21T23:47:47.734+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /flutter_service_worker.js?v=4046467648
2025-11-21T23:47:47.735+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-21T23:47:47.737+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-7] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-11-21T23:47:47.738+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /error?v=4046467648
2025-11-21T23:47:47.740+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /error?v=4046467648
2025-11-21T23:47:47.742+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-21T23:48:03.312+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/public/table/6920b81caf94ea6298b3ab12
2025-11-21T23:48:03.316+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-21T23:48:03.319+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/public/table/6920b81caf94ea6298b3ab12
2025-11-21T23:48:03.321+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-8] o.s.data.mongodb.core.MongoTemplate      : findOne using query: { "id" : "6920b81caf94ea6298b3ab12"} fields: Document{{}} for class: class com.smartmenu.model.Table in collection: tables
2025-11-21T23:48:17.516+03:00 DEBUG 791246 --- [smartmenu-backend] [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/public/table/6920b81caf94ea6298b3ab12
2025-11-21T23:48:17.517+03:00 DEBUG 791246 --- [smartmenu-backend] [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-21T23:48:17.519+03:00 DEBUG 791246 --- [smartmenu-backend] [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/public/table/6920b81caf94ea6298b3ab12
2025-11-21T23:48:17.521+03:00 DEBUG 791246 --- [smartmenu-backend] [io-8080-exec-10] o.s.data.mongodb.core.MongoTemplate      : findOne using query: { "id" : "6920b81caf94ea6298b3ab12"} fields: Document{{}} for class: class com.smartmenu.model.Table in collection: tables
2025-11-21T23:48:17.591+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /favicon.ico
2025-11-21T23:48:17.593+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-21T23:48:17.601+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-1] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-11-21T23:48:17.605+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-11-21T23:48:17.610+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-11-21T23:48:17.614+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-21T23:48:19.084+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /flutter_service_worker.js?v=4046467648
2025-11-21T23:48:19.085+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-21T23:48:19.088+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-2] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-11-21T23:48:19.089+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /error?v=4046467648
2025-11-21T23:48:19.091+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /error?v=4046467648
2025-11-21T23:48:19.093+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-21T23:48:21.633+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/public/menu/6920b81caf94ea6298b3ab12?deviceId=test-device-123
2025-11-21T23:48:21.634+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-21T23:48:21.635+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/public/menu/6920b81caf94ea6298b3ab12?deviceId=test-device-123
2025-11-21T23:48:21.637+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-3] o.s.data.mongodb.core.MongoTemplate      : findOne using query: { "id" : "6920b81caf94ea6298b3ab12"} fields: Document{{}} for class: class com.smartmenu.model.Table in collection: tables
2025-11-21T23:48:21.648+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-3] o.s.d.m.r.query.MongoQueryCreator        : Created query Query: { "deviceId" : "test-device-123"}, Fields: {}, Sort: {}
2025-11-21T23:48:21.656+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-3] o.s.data.mongodb.core.MongoTemplate      : find using query: { "deviceId" : "test-device-123"} fields: Document{{}} for class: class com.smartmenu.model.CustomerSession in collection: customer_sessions
2025-11-21T23:48:21.716+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-3] o.s.data.mongodb.core.MongoTemplate      : Inserting Document containing fields: [deviceId, tableId, userId, visitCount, firstVisit, lastVisit, createdAt, updatedAt, _class] in collection: customer_sessions
2025-11-21T23:48:21.786+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-3] o.s.d.m.r.query.MongoQueryCreator        : Created query Query: { "userId" : "6920b160af94ea6298b3ab11", "available" : true}, Fields: {}, Sort: {}
2025-11-21T23:48:21.789+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-3] o.s.data.mongodb.core.MongoTemplate      : find using query: { "userId" : "6920b160af94ea6298b3ab11", "available" : true} fields: Document{{}} for class: class com.smartmenu.model.MenuItem in collection: menu_items
2025-11-21T23:48:45.043+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/public/menu/6920b81caf94ea6298b3ab12?deviceId=test-device-123
2025-11-21T23:48:45.045+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-21T23:48:45.045+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/public/menu/6920b81caf94ea6298b3ab12?deviceId=test-device-123
2025-11-21T23:48:45.047+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-5] o.s.data.mongodb.core.MongoTemplate      : findOne using query: { "id" : "6920b81caf94ea6298b3ab12"} fields: Document{{}} for class: class com.smartmenu.model.Table in collection: tables
2025-11-21T23:48:45.050+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-5] o.s.d.m.r.query.MongoQueryCreator        : Created query Query: { "deviceId" : "test-device-123"}, Fields: {}, Sort: {}
2025-11-21T23:48:45.050+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-5] o.s.data.mongodb.core.MongoTemplate      : find using query: { "deviceId" : "test-device-123"} fields: Document{{}} for class: class com.smartmenu.model.CustomerSession in collection: customer_sessions
2025-11-21T23:48:45.058+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-5] o.s.data.mongodb.core.MongoTemplate      : Saving Document containing fields: [_id, deviceId, tableId, userId, visitCount, firstVisit, lastVisit, createdAt, updatedAt, _class]
2025-11-21T23:48:45.066+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-5] o.s.d.m.r.query.MongoQueryCreator        : Created query Query: { "userId" : "6920b160af94ea6298b3ab11", "available" : true}, Fields: {}, Sort: {}
2025-11-21T23:48:45.067+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-5] o.s.data.mongodb.core.MongoTemplate      : find using query: { "userId" : "6920b160af94ea6298b3ab11", "available" : true} fields: Document{{}} for class: class com.smartmenu.model.MenuItem in collection: menu_items
2025-11-21T23:48:48.588+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /flutter_service_worker.js?v=4046467648
2025-11-21T23:48:48.588+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-21T23:48:48.590+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-7] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-11-21T23:48:48.591+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /error?v=4046467648
2025-11-21T23:48:48.592+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /error?v=4046467648
2025-11-21T23:48:48.594+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-21T23:49:20.852+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/public/menu/6920b81caf94ea6298b3ab12?deviceId=device-1763755849818-iccgjau44
2025-11-21T23:49:20.873+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-21T23:49:20.878+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/public/menu/6920b81caf94ea6298b3ab12?deviceId=device-1763755849818-iccgjau44
2025-11-21T23:49:20.880+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-9] o.s.data.mongodb.core.MongoTemplate      : findOne using query: { "id" : "6920b81caf94ea6298b3ab12"} fields: Document{{}} for class: class com.smartmenu.model.Table in collection: tables
2025-11-21T23:49:20.888+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-9] o.s.d.m.r.query.MongoQueryCreator        : Created query Query: { "deviceId" : "device-1763755849818-iccgjau44"}, Fields: {}, Sort: {}
2025-11-21T23:49:20.890+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-9] o.s.data.mongodb.core.MongoTemplate      : find using query: { "deviceId" : "device-1763755849818-iccgjau44"} fields: Document{{}} for class: class com.smartmenu.model.CustomerSession in collection: customer_sessions
2025-11-21T23:49:20.895+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-9] o.s.data.mongodb.core.MongoTemplate      : Inserting Document containing fields: [deviceId, tableId, userId, visitCount, firstVisit, lastVisit, createdAt, updatedAt, _class] in collection: customer_sessions
2025-11-21T23:49:20.899+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-9] o.s.d.m.r.query.MongoQueryCreator        : Created query Query: { "userId" : "6920b160af94ea6298b3ab11", "available" : true}, Fields: {}, Sort: {}
2025-11-21T23:49:20.901+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-9] o.s.data.mongodb.core.MongoTemplate      : find using query: { "userId" : "6920b160af94ea6298b3ab11", "available" : true} fields: Document{{}} for class: class com.smartmenu.model.MenuItem in collection: menu_items
2025-11-21T23:49:20.928+03:00 DEBUG 791246 --- [smartmenu-backend] [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/public/session/device-1763755849818-iccgjau44
2025-11-21T23:49:20.930+03:00 DEBUG 791246 --- [smartmenu-backend] [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-21T23:49:20.931+03:00 DEBUG 791246 --- [smartmenu-backend] [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/public/session/device-1763755849818-iccgjau44
2025-11-21T23:49:20.935+03:00 DEBUG 791246 --- [smartmenu-backend] [io-8080-exec-10] o.s.d.m.r.query.MongoQueryCreator        : Created query Query: { "deviceId" : "device-1763755849818-iccgjau44"}, Fields: {}, Sort: {}
2025-11-21T23:49:20.936+03:00 DEBUG 791246 --- [smartmenu-backend] [io-8080-exec-10] o.s.data.mongodb.core.MongoTemplate      : find using query: { "deviceId" : "device-1763755849818-iccgjau44"} fields: Document{{}} for class: class com.smartmenu.model.CustomerSession in collection: customer_sessions
2025-11-21T23:49:44.080+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/public/session
2025-11-21T23:49:44.086+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/public/session
2025-11-21T23:49:44.087+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-21T23:49:44.088+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/public/session
2025-11-21T23:49:44.110+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-2] o.s.data.mongodb.core.MongoTemplate      : findOne using query: { "id" : "6920b81caf94ea6298b3ab12"} fields: Document{{}} for class: class com.smartmenu.model.Table in collection: tables
2025-11-21T23:49:44.113+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-2] o.s.d.m.r.query.MongoQueryCreator        : Created query Query: { "deviceId" : "device-1763755849818-iccgjau44"}, Fields: {}, Sort: {}
2025-11-21T23:49:44.113+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-2] o.s.data.mongodb.core.MongoTemplate      : find using query: { "deviceId" : "device-1763755849818-iccgjau44"} fields: Document{{}} for class: class com.smartmenu.model.CustomerSession in collection: customer_sessions
2025-11-21T23:49:44.117+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-2] o.s.data.mongodb.core.MongoTemplate      : Saving Document containing fields: [_id, deviceId, tableId, userId, customerName, visitCount, firstVisit, lastVisit, createdAt, updatedAt, _class]
2025-11-22T00:01:07.080+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/tables
2025-11-22T00:01:07.084+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/tables
2025-11-22T00:01:07.097+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/tables
2025-11-22T00:01:07.283+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-7] o.s.d.m.r.query.MongoQueryCreator        : Created query Query: { "username" : "hey"}, Fields: {}, Sort: {}
2025-11-22T00:01:07.285+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-7] o.s.data.mongodb.core.MongoTemplate      : find using query: { "username" : "hey"} fields: Document{{}} for class: class com.smartmenu.model.User in collection: users
2025-11-22T00:01:07.294+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-7] c.s.security.JwtAuthenticationFilter     : Set authentication for user: hey
2025-11-22T00:01:07.297+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/tables
2025-11-22T00:01:07.298+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-7] o.s.d.m.r.query.MongoQueryCreator        : Created query Query: { "userId" : "6920bed7af94ea6298b3ab23"}, Fields: {}, Sort: {}
2025-11-22T00:01:07.299+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-7] o.s.data.mongodb.core.MongoTemplate      : find using query: { "userId" : "6920bed7af94ea6298b3ab23"} fields: Document{{}} for class: class com.smartmenu.model.Table in collection: tables
2025-11-22T00:01:07.327+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/tables
2025-11-22T00:01:07.335+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-8] o.s.d.m.r.query.MongoQueryCreator        : Created query Query: { "username" : "hey"}, Fields: {}, Sort: {}
2025-11-22T00:01:07.336+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-8] o.s.data.mongodb.core.MongoTemplate      : find using query: { "username" : "hey"} fields: Document{{}} for class: class com.smartmenu.model.User in collection: users
2025-11-22T00:01:07.345+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-8] c.s.security.JwtAuthenticationFilter     : Set authentication for user: hey
2025-11-22T00:01:07.347+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/tables
2025-11-22T00:01:07.350+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-8] o.s.d.m.r.query.MongoQueryCreator        : Created query Query: { "userId" : "6920bed7af94ea6298b3ab23"}, Fields: {}, Sort: {}
2025-11-22T00:01:07.351+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-8] o.s.data.mongodb.core.MongoTemplate      : find using query: { "userId" : "6920bed7af94ea6298b3ab23"} fields: Document{{}} for class: class com.smartmenu.model.Table in collection: tables
2025-11-22T00:01:18.053+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2025-11-22T00:01:18.057+03:00 DEBUG 791246 --- [smartmenu-backend] [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-11-22T00:01:18.058+03:00 DEBUG 791246 --- [smartmenu-backend] [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-22T00:01:18.058+03:00 DEBUG 791246 --- [smartmenu-backend] [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-11-22T00:01:18.248+03:00 DEBUG 791246 --- [smartmenu-backend] [io-8080-exec-10] o.s.d.m.r.query.MongoQueryCreator        : Created query Query: { "username" : "admin"}, Fields: {}, Sort: {}
2025-11-22T00:01:18.249+03:00 DEBUG 791246 --- [smartmenu-backend] [io-8080-exec-10] o.s.data.mongodb.core.MongoTemplate      : find using query: { "username" : "admin"} fields: Document{{}} for class: class com.smartmenu.model.User in collection: users
2025-11-22T00:01:18.323+03:00 DEBUG 791246 --- [smartmenu-backend] [io-8080-exec-10] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-11-22T00:01:19.382+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/dashboard/stats
2025-11-22T00:01:19.384+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/dashboard/recent-orders
2025-11-22T00:01:19.388+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/dashboard/recent-feedback
2025-11-22T00:01:19.388+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/dashboard/stats
2025-11-22T00:01:19.391+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/dashboard/recent-orders
2025-11-22T00:01:19.389+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/dashboard/top-items
2025-11-22T00:01:19.403+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/dashboard/top-items
2025-11-22T00:01:19.411+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/dashboard/recent-feedback
2025-11-22T00:01:19.411+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/dashboard/recent-orders
2025-11-22T00:01:19.417+03:00 DEBUG 791246 --- [smartmenu-backend] [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/dashboard/stats
2025-11-22T00:01:19.421+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/dashboard/top-items
2025-11-22T00:01:19.422+03:00 DEBUG 791246 --- [smartmenu-backend] [io-8080-exec-10] o.s.d.m.r.query.MongoQueryCreator        : Created query Query: { "username" : "admin"}, Fields: {}, Sort: {}
2025-11-22T00:01:19.423+03:00 DEBUG 791246 --- [smartmenu-backend] [io-8080-exec-10] o.s.data.mongodb.core.MongoTemplate      : find using query: { "username" : "admin"} fields: Document{{}} for class: class com.smartmenu.model.User in collection: users
2025-11-22T00:01:19.426+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/dashboard/recent-feedback
2025-11-22T00:01:19.425+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-8] o.s.d.m.r.query.MongoQueryCreator        : Created query Query: { "username" : "admin"}, Fields: {}, Sort: {}
2025-11-22T00:01:19.427+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-8] o.s.data.mongodb.core.MongoTemplate      : find using query: { "username" : "admin"} fields: Document{{}} for class: class com.smartmenu.model.User in collection: users
2025-11-22T00:01:19.427+03:00 DEBUG 791246 --- [smartmenu-backend] [io-8080-exec-10] c.s.security.JwtAuthenticationFilter     : Set authentication for user: admin
2025-11-22T00:01:19.428+03:00 DEBUG 791246 --- [smartmenu-backend] [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/dashboard/stats
2025-11-22T00:01:19.431+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-5] o.s.d.m.r.query.MongoQueryCreator        : Created query Query: { "username" : "admin"}, Fields: {}, Sort: {}
2025-11-22T00:01:19.431+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-5] o.s.data.mongodb.core.MongoTemplate      : find using query: { "username" : "admin"} fields: Document{{}} for class: class com.smartmenu.model.User in collection: users
2025-11-22T00:01:19.439+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-8] c.s.security.JwtAuthenticationFilter     : Set authentication for user: admin
2025-11-22T00:01:19.445+03:00 DEBUG 791246 --- [smartmenu-backend] [io-8080-exec-10] o.s.d.m.r.query.MongoQueryCreator        : Created query Query: { "userId" : "6920b160af94ea6298b3ab11"}, Fields: {}, Sort: {}
2025-11-22T00:01:19.446+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-5] c.s.security.JwtAuthenticationFilter     : Set authentication for user: admin
2025-11-22T00:01:19.452+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/dashboard/top-items
2025-11-22T00:01:19.453+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-5] o.s.d.m.r.query.MongoQueryCreator        : Created query Query: { "userId" : "6920b160af94ea6298b3ab11"}, Fields: {}, Sort: {}
2025-11-22T00:01:19.453+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/dashboard/recent-orders
2025-11-22T00:01:19.455+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-8] o.s.d.m.r.query.MongoQueryCreator        : Created query Query: { "userId" : "6920b160af94ea6298b3ab11"}, Fields: {}, Sort: {}
2025-11-22T00:01:19.453+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-5] o.s.data.mongodb.core.MongoTemplate      : find using query: { "userId" : "6920b160af94ea6298b3ab11"} fields: Document{{}} for class: class com.smartmenu.model.MenuItem in collection: menu_items
2025-11-22T00:01:19.457+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-1] o.s.d.m.r.query.MongoQueryCreator        : Created query Query: { "username" : "admin"}, Fields: {}, Sort: {}
2025-11-22T00:01:19.462+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-1] o.s.data.mongodb.core.MongoTemplate      : find using query: { "username" : "admin"} fields: Document{{}} for class: class com.smartmenu.model.User in collection: users
2025-11-22T00:01:19.464+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-8] o.s.data.mongodb.core.MongoTemplate      : find using query: { "userId" : "6920b160af94ea6298b3ab11"} fields: Document{{}} for class: class com.smartmenu.model.Order in collection: orders
2025-11-22T00:01:19.473+03:00 DEBUG 791246 --- [smartmenu-backend] [io-8080-exec-10] o.s.data.mongodb.core.MongoTemplate      : Executing count: { "userId" : "6920b160af94ea6298b3ab11"} in collection: orders
2025-11-22T00:01:19.481+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-1] c.s.security.JwtAuthenticationFilter     : Set authentication for user: admin
2025-11-22T00:01:19.485+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/dashboard/recent-orders
2025-11-22T00:01:19.488+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/dashboard/recent-feedback
2025-11-22T00:01:19.500+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-3] o.s.d.m.r.query.MongoQueryCreator        : Created query Query: { "username" : "admin"}, Fields: {}, Sort: {}
2025-11-22T00:01:19.500+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-3] o.s.data.mongodb.core.MongoTemplate      : find using query: { "username" : "admin"} fields: Document{{}} for class: class com.smartmenu.model.User in collection: users
2025-11-22T00:01:19.501+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-1] o.s.d.m.r.query.MongoQueryCreator        : Created query Query: { "userId" : "6920b160af94ea6298b3ab11"}, Fields: {}, Sort: { "createdAt" : -1}
2025-11-22T00:01:19.505+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-3] c.s.security.JwtAuthenticationFilter     : Set authentication for user: admin
2025-11-22T00:01:19.506+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/dashboard/recent-orders
2025-11-22T00:01:19.506+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-1] o.s.data.mongodb.core.MongoTemplate      : find using query: { "userId" : "6920b160af94ea6298b3ab11"} fields: Document{{}} for class: class com.smartmenu.model.Feedback in collection: feedback
2025-11-22T00:01:19.506+03:00 DEBUG 791246 --- [smartmenu-backend] [io-8080-exec-10] o.s.d.m.r.query.MongoQueryCreator        : Created query Query: { "userId" : "6920b160af94ea6298b3ab11", "status" : "pending"}, Fields: {}, Sort: {}
2025-11-22T00:01:19.507+03:00 DEBUG 791246 --- [smartmenu-backend] [io-8080-exec-10] o.s.data.mongodb.core.MongoTemplate      : Executing count: { "userId" : "6920b160af94ea6298b3ab11", "status" : "pending"} in collection: orders
2025-11-22T00:01:19.510+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/dashboard/top-items
2025-11-22T00:01:19.512+03:00 DEBUG 791246 --- [smartmenu-backend] [io-8080-exec-10] o.s.d.m.r.query.MongoQueryCreator        : Created query Query: { "userId" : "6920b160af94ea6298b3ab11", "available" : true}, Fields: {}, Sort: {}
2025-11-22T00:01:19.513+03:00 DEBUG 791246 --- [smartmenu-backend] [io-8080-exec-10] o.s.data.mongodb.core.MongoTemplate      : Executing count: { "userId" : "6920b160af94ea6298b3ab11", "available" : true} in collection: menu_items
2025-11-22T00:01:19.514+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-3] o.s.d.m.r.query.MongoQueryCreator        : Created query Query: { "userId" : "6920b160af94ea6298b3ab11"}, Fields: {}, Sort: {}
2025-11-22T00:01:19.515+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-3] o.s.data.mongodb.core.MongoTemplate      : find using query: { "userId" : "6920b160af94ea6298b3ab11"} fields: Document{{}} for class: class com.smartmenu.model.Order in collection: orders
2025-11-22T00:01:19.517+03:00 DEBUG 791246 --- [smartmenu-backend] [io-8080-exec-10] o.s.d.m.r.query.MongoQueryCreator        : Created query Query: { "userId" : "6920b160af94ea6298b3ab11"}, Fields: {}, Sort: {}
2025-11-22T00:01:19.521+03:00 DEBUG 791246 --- [smartmenu-backend] [io-8080-exec-10] o.s.data.mongodb.core.MongoTemplate      : Executing count: { "userId" : "6920b160af94ea6298b3ab11"} in collection: tables
2025-11-22T00:01:19.522+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-6] o.s.d.m.r.query.MongoQueryCreator        : Created query Query: { "username" : "admin"}, Fields: {}, Sort: {}
2025-11-22T00:01:19.529+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-6] o.s.data.mongodb.core.MongoTemplate      : find using query: { "username" : "admin"} fields: Document{{}} for class: class com.smartmenu.model.User in collection: users
2025-11-22T00:01:19.536+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-6] c.s.security.JwtAuthenticationFilter     : Set authentication for user: admin
2025-11-22T00:01:19.537+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/dashboard/recent-feedback
2025-11-22T00:01:19.538+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/dashboard/stats
2025-11-22T00:01:19.539+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/dashboard/top-items
2025-11-22T00:01:19.543+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-4] o.s.d.m.r.query.MongoQueryCreator        : Created query Query: { "username" : "admin"}, Fields: {}, Sort: {}
2025-11-22T00:01:19.543+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-6] o.s.d.m.r.query.MongoQueryCreator        : Created query Query: { "userId" : "6920b160af94ea6298b3ab11"}, Fields: {}, Sort: {}
2025-11-22T00:01:19.547+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-4] o.s.data.mongodb.core.MongoTemplate      : find using query: { "username" : "admin"} fields: Document{{}} for class: class com.smartmenu.model.User in collection: users
2025-11-22T00:01:19.547+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-2] o.s.d.m.r.query.MongoQueryCreator        : Created query Query: { "username" : "admin"}, Fields: {}, Sort: {}
2025-11-22T00:01:19.548+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-6] o.s.data.mongodb.core.MongoTemplate      : find using query: { "userId" : "6920b160af94ea6298b3ab11"} fields: Document{{}} for class: class com.smartmenu.model.MenuItem in collection: menu_items
2025-11-22T00:01:19.549+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-2] o.s.data.mongodb.core.MongoTemplate      : find using query: { "username" : "admin"} fields: Document{{}} for class: class com.smartmenu.model.User in collection: users
2025-11-22T00:01:19.551+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-2] c.s.security.JwtAuthenticationFilter     : Set authentication for user: admin
2025-11-22T00:01:19.552+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/dashboard/recent-feedback
2025-11-22T00:01:19.552+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-4] c.s.security.JwtAuthenticationFilter     : Set authentication for user: admin
2025-11-22T00:01:19.554+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-2] o.s.d.m.r.query.MongoQueryCreator        : Created query Query: { "userId" : "6920b160af94ea6298b3ab11"}, Fields: {}, Sort: { "createdAt" : -1}
2025-11-22T00:01:19.555+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-2] o.s.data.mongodb.core.MongoTemplate      : find using query: { "userId" : "6920b160af94ea6298b3ab11"} fields: Document{{}} for class: class com.smartmenu.model.Feedback in collection: feedback
2025-11-22T00:01:19.563+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/dashboard/stats
2025-11-22T00:01:19.564+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-4] o.s.d.m.r.query.MongoQueryCreator        : Created query Query: { "userId" : "6920b160af94ea6298b3ab11"}, Fields: {}, Sort: {}
2025-11-22T00:01:19.565+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-4] o.s.data.mongodb.core.MongoTemplate      : Executing count: { "userId" : "6920b160af94ea6298b3ab11"} in collection: orders
2025-11-22T00:01:19.569+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-4] o.s.d.m.r.query.MongoQueryCreator        : Created query Query: { "userId" : "6920b160af94ea6298b3ab11", "status" : "pending"}, Fields: {}, Sort: {}
2025-11-22T00:01:19.570+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-4] o.s.data.mongodb.core.MongoTemplate      : Executing count: { "userId" : "6920b160af94ea6298b3ab11", "status" : "pending"} in collection: orders
2025-11-22T00:01:19.574+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-4] o.s.d.m.r.query.MongoQueryCreator        : Created query Query: { "userId" : "6920b160af94ea6298b3ab11", "available" : true}, Fields: {}, Sort: {}
2025-11-22T00:01:19.576+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-4] o.s.data.mongodb.core.MongoTemplate      : Executing count: { "userId" : "6920b160af94ea6298b3ab11", "available" : true} in collection: menu_items
2025-11-22T00:01:19.579+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-4] o.s.d.m.r.query.MongoQueryCreator        : Created query Query: { "userId" : "6920b160af94ea6298b3ab11"}, Fields: {}, Sort: {}
2025-11-22T00:01:19.580+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-4] o.s.data.mongodb.core.MongoTemplate      : Executing count: { "userId" : "6920b160af94ea6298b3ab11"} in collection: tables
2025-11-22T00:01:28.133+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/tables
2025-11-22T00:01:28.145+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-7] o.s.d.m.r.query.MongoQueryCreator        : Created query Query: { "username" : "admin"}, Fields: {}, Sort: {}
2025-11-22T00:01:28.145+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-7] o.s.data.mongodb.core.MongoTemplate      : find using query: { "username" : "admin"} fields: Document{{}} for class: class com.smartmenu.model.User in collection: users
2025-11-22T00:01:28.148+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-7] c.s.security.JwtAuthenticationFilter     : Set authentication for user: admin
2025-11-22T00:01:28.149+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/tables
2025-11-22T00:01:28.150+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-7] o.s.d.m.r.query.MongoQueryCreator        : Created query Query: { "userId" : "6920b160af94ea6298b3ab11"}, Fields: {}, Sort: {}
2025-11-22T00:01:28.151+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-7] o.s.data.mongodb.core.MongoTemplate      : find using query: { "userId" : "6920b160af94ea6298b3ab11"} fields: Document{{}} for class: class com.smartmenu.model.Table in collection: tables
2025-11-22T00:01:28.162+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/tables
2025-11-22T00:01:28.168+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-9] o.s.d.m.r.query.MongoQueryCreator        : Created query Query: { "username" : "admin"}, Fields: {}, Sort: {}
2025-11-22T00:01:28.168+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-9] o.s.data.mongodb.core.MongoTemplate      : find using query: { "username" : "admin"} fields: Document{{}} for class: class com.smartmenu.model.User in collection: users
2025-11-22T00:01:28.172+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-9] c.s.security.JwtAuthenticationFilter     : Set authentication for user: admin
2025-11-22T00:01:28.175+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/tables
2025-11-22T00:01:28.176+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-9] o.s.d.m.r.query.MongoQueryCreator        : Created query Query: { "userId" : "6920b160af94ea6298b3ab11"}, Fields: {}, Sort: {}
2025-11-22T00:01:28.176+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-9] o.s.data.mongodb.core.MongoTemplate      : find using query: { "userId" : "6920b160af94ea6298b3ab11"} fields: Document{{}} for class: class com.smartmenu.model.Table in collection: tables
2025-11-22T00:04:37.359+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/public/menu/6920b81caf94ea6298b3ab12?deviceId=device-1763759077328-iueyo7ejz
2025-11-22T00:04:37.360+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-22T00:04:37.370+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/public/menu/6920b81caf94ea6298b3ab12?deviceId=device-1763759077328-iueyo7ejz
2025-11-22T00:04:37.372+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-6] o.s.data.mongodb.core.MongoTemplate      : findOne using query: { "id" : "6920b81caf94ea6298b3ab12"} fields: Document{{}} for class: class com.smartmenu.model.Table in collection: tables
2025-11-22T00:04:37.380+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-6] o.s.d.m.r.query.MongoQueryCreator        : Created query Query: { "deviceId" : "device-1763759077328-iueyo7ejz"}, Fields: {}, Sort: {}
2025-11-22T00:04:37.385+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-6] o.s.data.mongodb.core.MongoTemplate      : find using query: { "deviceId" : "device-1763759077328-iueyo7ejz"} fields: Document{{}} for class: class com.smartmenu.model.CustomerSession in collection: customer_sessions
2025-11-22T00:04:37.390+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-6] o.s.data.mongodb.core.MongoTemplate      : Inserting Document containing fields: [deviceId, tableId, userId, visitCount, firstVisit, lastVisit, createdAt, updatedAt, _class] in collection: customer_sessions
2025-11-22T00:04:37.392+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-6] o.s.d.m.r.query.MongoQueryCreator        : Created query Query: { "userId" : "6920b160af94ea6298b3ab11", "available" : true}, Fields: {}, Sort: {}
2025-11-22T00:04:37.395+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-6] o.s.data.mongodb.core.MongoTemplate      : find using query: { "userId" : "6920b160af94ea6298b3ab11", "available" : true} fields: Document{{}} for class: class com.smartmenu.model.MenuItem in collection: menu_items
2025-11-22T00:04:37.439+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/public/session/device-1763759077328-iueyo7ejz
2025-11-22T00:04:37.440+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-22T00:04:37.444+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/public/session/device-1763759077328-iueyo7ejz
2025-11-22T00:04:37.445+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-4] o.s.d.m.r.query.MongoQueryCreator        : Created query Query: { "deviceId" : "device-1763759077328-iueyo7ejz"}, Fields: {}, Sort: {}
2025-11-22T00:04:37.446+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-4] o.s.data.mongodb.core.MongoTemplate      : find using query: { "deviceId" : "device-1763759077328-iueyo7ejz"} fields: Document{{}} for class: class com.smartmenu.model.CustomerSession in collection: customer_sessions
2025-11-22T00:06:47.537+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/public/menu/d1c98b06-351b-4f51-ae42-c66c0e381280?deviceId=device-1763759077328-iueyo7ejz
2025-11-22T00:06:47.540+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-22T00:06:47.544+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/public/menu/d1c98b06-351b-4f51-ae42-c66c0e381280?deviceId=device-1763759077328-iueyo7ejz
2025-11-22T00:06:47.548+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-9] o.s.data.mongodb.core.MongoTemplate      : findOne using query: { "id" : "d1c98b06-351b-4f51-ae42-c66c0e381280"} fields: Document{{}} for class: class com.smartmenu.model.Table in collection: tables
2025-11-22T00:06:53.096+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/public/menu/d1c98b06-351b-4f51-ae42-c66c0e381280?deviceId=device-1763759077328-iueyo7ejz
2025-11-22T00:06:53.098+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-22T00:06:53.099+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/public/menu/d1c98b06-351b-4f51-ae42-c66c0e381280?deviceId=device-1763759077328-iueyo7ejz
2025-11-22T00:06:53.105+03:00 DEBUG 791246 --- [smartmenu-backend] [nio-8080-exec-8] o.s.data.mongodb.core.MongoTemplate      : findOne using query: { "id" : "d1c98b06-351b-4f51-ae42-c66c0e381280"} fields: Document{{}} for class: class com.smartmenu.model.Table in collection: tables
